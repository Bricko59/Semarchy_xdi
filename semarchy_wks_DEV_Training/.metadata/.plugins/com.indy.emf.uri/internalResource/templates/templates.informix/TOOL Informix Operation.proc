<?xml version="1.0" encoding="UTF-8"?>
<proc:process xmlns:proc="http://www.example.org/proc" id="_OxFzkcvHEeiPY-9-vFlpTA" description="This tool is used to perform specific operations on informix.&#xD;&#xA;The available operations are listed in the 'Operation' parameter.&#xD;&#xA;&#xD;&#xA;To use this tool:&#xD;&#xA;1. Create a Process&#xD;&#xA;2. Drag and drop the tool in the Process&#xD;&#xA;3. Then, drag and drop an informix Metadata Link on it (a schema, a server, or any node from an Informix Metadata.)&#xD;&#xA;4. Finally, specify the 'Operation' parameter to the operation you want to perform, and adjust the other parameters accordingly to your requirements&#xD;&#xA;&#xD;&#xA;Refer to the description of each Parameter for more information.&#xD;&#xA;&#xD;&#xA;History:&#xD;&#xA;10/10/2018  Tool creation&#xD;&#xA;&#xD;&#xA;">
  <parameter id="_asrAEMxcEeiiHcERelnphQ" description="Defines if the transaction should be commited at the end of the tool operation." name="commitTransaction" type="Boolean" value="false"/>
  <parameter id="_AoaCYMxbEeiiHcERelnphQ" description="Operation to perform on Informix.&#xD;&#xA;The following operations are available:&#xD;&#xA;&#xD;&#xA;- exportLastGeneratedSerial:&#xD;&#xA;Export the last value generated for a serial column in the current transaction.&#xD;&#xA;The value is exported in a session variable published at the path specified in the 'Serial Export Variable Path' parameter.&#xD;&#xA;Note that the most common use case for this operation is when wanting to retrieve the serial generated for a row.&#xD;&#xA;As we can only get the last generated value, this is mostly for Mappings configured to be transactional and processing only one row of data.&#xD;&#xA;&#xD;&#xA;-> Make sure to use the same 'Transaction Name' as the one used in the Mapping&#xD;&#xA;" metaInf="&lt;metaInf id=&quot;value&quot; value=&quot;exportLastGeneratedSerial&quot; />&#xD;&#xA;&lt;metaInf id=&quot;value&quot; value=&quot;&quot; />" name="operation" type="String"/>
  <parameter id="_vCzoMMxbEeiiHcERelnphQ" description="Path of the session variable that will contain the last value which has been generated by Informix for the serial column.&#xD;&#xA;&#xD;&#xA;This variable is generated when the 'Operationl' parameter is set to 'exportLastGeneratedSerial'.&#xD;&#xA;&#xD;&#xA;E.g.&#xD;&#xA;Generation at root of the Process containing the tool:&#xD;&#xA;~/generated_serial&#xD;&#xA;&#xD;&#xA;Generation at the root of the tool:&#xD;&#xA;../../generated_serial" name="serialExportVariablePath" type="String" value="~/generated_serial"/>
  <parameter id="_DVX-8MxbEeiiHcERelnphQ" description="Name of the SQL transaction which will be used to perform the operation." name="transactionName" type="String" value="T1"/>
  <parameter id="_Lao14MxbEeiiHcERelnphQ" description="Type of SQL transaction to be used when performing the operation.&#xD;&#xA;&#xD;&#xA;Refer to the 'Transaction Type' parameter documentation of the SQL Operation action for further information." metaInf="&lt;metaInf id=&quot;value&quot; value=&quot;AUTOCOMMIT&quot; />&#xD;&#xA;&lt;metaInf id=&quot;value&quot; value=&quot;AUTONOMOUS&quot; />&#xD;&#xA;&lt;metaInf id=&quot;value&quot; value=&quot;COMMIT&quot; />&#xD;&#xA;&lt;metaInf id=&quot;value&quot; value=&quot;NOCOMMIT&quot; />" name="transactionType" type="String" value="NOCOMMIT"/>
  <actionCode id="_S3Y6kMvHEeiPY-9-vFlpTA" generationCondition="'${operation}$' = 'exportLastGeneratedSerial'" isBeginAction="false" name="extract serial" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.JdbcActionCodeI">
    <bindLink id="_TVvqgMvHEeiPY-9-vFlpTA" bindType="DirectBind" targetId="_S3ck8MvHEeiPY-9-vFlpTA"/>
    <parameter id="_S3Y6kcvHEeiPY-9-vFlpTA" name="SQL_CONNECTION" type="String" value="%targetConnection{$informix}%"/>
    <parameter id="_S3Y6ksvHEeiPY-9-vFlpTA" name="SQL_ACTION_TYPE" type="String" value="SELECT"/>
    <parameter id="_S3Y6k8vHEeiPY-9-vFlpTA" name="SQL_TRANSACTION_NAME" ref="#_DVX-8MxbEeiiHcERelnphQ" type="String" value="T1"/>
    <parameter id="_S3Y6lMvHEeiPY-9-vFlpTA" name="SQL_TRANSACTION_TYPE" ref="#_Lao14MxbEeiiHcERelnphQ" type="String" value="NO COMMIT"/>
    <code>SELECT DBINFO('SQLCA.SQLERRD1') generated_serial FROM systables WHERE tabname = 'systables';</code>
  </actionCode>
  <actionCode id="_S3ck8MvHEeiPY-9-vFlpTA" generationCondition="'${operation}$' = 'exportLastGeneratedSerial'" isBeginAction="false" name="publish serial variable" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.ScriptingActionCodeI">
    <link id="_SFOk8MxjEeiiHcERelnphQ" executionType="OK" generationType="OK_KO" mandatory="1" targetId="_M7VS8MxjEeiiHcERelnphQ"/>
    <parameter id="_S3ck8svHEeiPY-9-vFlpTA" name="SCRIPTING_LANGUAGE" type="String" value="rhino"/>
    <code>__ctx__.publishVariable(&quot;%x{md:paramValue($this,&quot;serialExportVariablePath&quot;)}x%&quot;,&quot;:{generated_serial}:&quot;);</code>
  </actionCode>
  <actionCode id="_hybXQMxbEeiiHcERelnphQ" isBeginAction="false" name="start" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.EmptyActionCodeI">
    <link id="_kTatUMxbEeiiHcERelnphQ" generationCondition="" executionType="OK" generationType="OK_KO" mandatory="1" targetId="_ivdAMMxbEeiiHcERelnphQ"/>
  </actionCode>
  <actionCode id="_ivdAMMxbEeiiHcERelnphQ" generationCondition="'${operation}$' = 'exportLastGeneratedSerial'" isBeginAction="false" name="Export Last Generated serial" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.EmptyActionCodeI">
    <link id="_kjl3UMxbEeiiHcERelnphQ" executionType="OK" generationType="OK_KO" mandatory="1" targetId="_S3Y6kMvHEeiPY-9-vFlpTA"/>
  </actionCode>
  <actionCode id="_KYSucMxjEeiiHcERelnphQ" generationCondition="'${commitTransaction}$' = 'true'" isBeginAction="false" name="SqlOperation" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.JdbcActionCodeI">
    <parameter id="_KYY1EMxjEeiiHcERelnphQ" name="SQL_CONNECTION" type="String" value="%targetConnection{$informix}%"/>
    <parameter id="_KYY1EcxjEeiiHcERelnphQ" name="SQL_ACTION_TYPE" type="String" value="DDL_DML"/>
    <parameter id="_VqPj0MxjEeiiHcERelnphQ" name="SQL_TRANSACTION_NAME" ref="#_DVX-8MxbEeiiHcERelnphQ" type="String" value="T1"/>
    <parameter id="_YGu0YMxjEeiiHcERelnphQ" name="SQL_TRANSACTION_TYPE" type="String" value="COMMIT"/>
  </actionCode>
  <actionCode id="_M7VS8MxjEeiiHcERelnphQ" generationCondition="'${commitTransaction}$' = 'true'" isBeginAction="false" name="commit" nbCycles="-1" toleratedError="false" technology="com.indy.engine.actionCodes.EmptyActionCodeI">
    <link id="_SpZB8MxjEeiiHcERelnphQ" executionType="OK" generationType="OK_KO" mandatory="1" targetId="_KYSucMxjEeiiHcERelnphQ"/>
  </actionCode>
  <xslVariable id="_Vvr58MxiEeiiHcERelnphQ" code="($this/ancestor-or-self::*/metaDataLink/mdj:getMetaDataRef(.)[tech:productCode()='INFORMIX'])[1]" name="informix" order="2" type="xpath"/>
</proc:process>