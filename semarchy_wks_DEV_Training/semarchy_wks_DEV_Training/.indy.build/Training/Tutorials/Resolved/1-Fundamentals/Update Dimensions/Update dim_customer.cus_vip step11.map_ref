<?xml version="1.0" encoding="UTF-8"?>
<ref:mapRef xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:map="http://www.indy.com/v2/map" xmlns:ref="http://www.indy.com/v2/ref" id="_ACZZe6FYEeyDMuS-IfoEog">
  <dataModel>_6G9VwKFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=Update%20dim_customer.cus_vip%20step11?</dataModel>
  <containerRef xsi:type="ref:RDatastore" id="_ACh8UaFYEeyDMuS-IfoEog" countShownFields="5" hierarchical="false">
    <dataModel>_6G9VwaFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_ACybAKFYEeyDMuS-IfoEog" precision="0" size="10" type="integer" mandatory="true" position="3">
      <dataModel>_6G9VwqFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=bil_id?</dataModel>
      <usage>_ACh8UKFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_ACzpIKFYEeyDMuS-IfoEog" precision="6" size="29" type="timestamp" position="15">
      <dataModel>_6G9Vw6FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=bil_pmt_date?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_ACzpIaFYEeyDMuS-IfoEog" precision="0" size="10" type="integer" mandatory="true" position="6">
      <dataModel>_6G9VxKFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_id?</dataModel>
      <usage>_AC8MAaFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_ACzpIqFYEeyDMuS-IfoEog" precision="0" size="8" type="varchar" position="9">
      <dataModel>_6G9VxaFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=pmt_code?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_ACzpI6FYEeyDMuS-IfoEog" precision="6" size="29" type="timestamp" mandatory="true" position="12">
      <dataModel>_6G9VxqFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=bil_date?</dataModel>
    </fieldRef>
    <constraintRef id="_AC0QMKFYEeyDMuS-IfoEog" type="pk">
      <dataModel>_6G9Vx6FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=pk_t_billing?</dataModel>
    </constraintRef>
    <constraintRef id="_AC0QMaFYEeyDMuS-IfoEog" type="fk">
      <dataModel>_6G9VyKFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=fk_billing_customer?</dataModel>
    </constraintRef>
    <constraintRef id="_AC0QMqFYEeyDMuS-IfoEog" type="fk">
      <dataModel>_6G9VyaFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=fk_billing_payment?</dataModel>
    </constraintRef>
  </containerRef>
  <containerRef xsi:type="ref:RDatastore" id="_AC03QKFYEeyDMuS-IfoEog" countShownFields="8" hierarchical="false">
    <dataModel>_6G9VyqFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_AC03QaFYEeyDMuS-IfoEog" precision="4" size="19" type="numeric" mandatory="true" position="9">
      <dataModel>_6G9Vy6FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_qty?</dataModel>
      <usage>_AC8zEaFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03QqFYEeyDMuS-IfoEog" precision="0" size="10" type="integer" mandatory="true" position="3">
      <dataModel>_6G9VzKFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_id?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03Q6FYEeyDMuS-IfoEog" precision="0" size="10" type="integer" mandatory="true" position="6">
      <dataModel>_6G9VzaFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=bil_id?</dataModel>
      <usage>_ACh8UKFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03RKFYEeyDMuS-IfoEog" precision="4" size="19" type="numeric" position="15">
      <dataModel>_6G9VzqFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_discount_amount?</dataModel>
      <usage>_AC8zEaFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03RaFYEeyDMuS-IfoEog" precision="4" size="19" type="numeric" mandatory="true" position="18">
      <dataModel>_6G9Vz6FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_amount?</dataModel>
      <usage>_AC8zEaFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03RqFYEeyDMuS-IfoEog" precision="0" size="10" type="integer" position="24">
      <dataModel>_6G980KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=bdr_id?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03R6FYEeyDMuS-IfoEog" precision="4" size="19" type="numeric" position="12">
      <dataModel>_6G980aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_discount_rate?</dataModel>
      <usage>_AC8zEaFYEeyDMuS-IfoEog</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC03SKFYEeyDMuS-IfoEog" precision="0" size="3" type="varchar" mandatory="true" position="21">
      <dataModel>_6G980qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=lin_type?</dataModel>
    </fieldRef>
    <constraintRef id="_AC03SaFYEeyDMuS-IfoEog" type="fk">
      <dataModel>_6G9806FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=fk_billing_lines_bedroom?</dataModel>
    </constraintRef>
    <constraintRef id="_AC03SqFYEeyDMuS-IfoEog" type="fk">
      <dataModel>_6G981KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=fk_billing_lines_billing?</dataModel>
    </constraintRef>
    <constraintRef id="_AC03S6FYEeyDMuS-IfoEog" type="pk">
      <dataModel>_6G981aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=pk_t_billing_lines?</dataModel>
    </constraintRef>
  </containerRef>
  <containerRef xsi:type="ref:RDatastore" id="_AC1eUKFYEeyDMuS-IfoEog" countShownFields="7" hierarchical="false">
    <dataModel>_6G981qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_AC5vwKFYEeyDMuS-IfoEog" precision="0" size="32" type="varchar" position="6">
      <dataModel>_6G982aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_title?</dataModel>
      <expressionRef id="_AC8MAqFYEeyDMuS-IfoEog">
        <dataModel>_6G982qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC6W0KFYEeyDMuS-IfoEog" precision="0" size="100" type="varchar" mandatory="true" position="9">
      <dataModel>_6G9826FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_name?</dataModel>
      <expressionRef id="_AC8MA6FYEeyDMuS-IfoEog">
        <dataModel>_6G983KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC6W0aFYEeyDMuS-IfoEog" precision="0" size="10" type="numeric" position="15">
      <dataModel>_6G984aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=geo_key_id?</dataModel>
      <expressionRef id="_AC8zEqFYEeyDMuS-IfoEog">
        <dataModel>_6G984qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC6W0qFYEeyDMuS-IfoEog" precision="0" size="100" type="varchar" position="12">
      <dataModel>_6G9846FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_company?</dataModel>
      <expressionRef id="_AC8zE6FYEeyDMuS-IfoEog">
        <dataModel>_6G985KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC694KFYEeyDMuS-IfoEog" precision="0" size="10" type="integer" mandatory="true" position="3">
      <dataModel>_6G9816FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_id?</dataModel>
      <expressionRef id="_AC8MAaFYEeyDMuS-IfoEog" internalExpression="${t_billing.cus_id}$">
        <dataModel>_6G982KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
        <sourceRef>_ACzpIaFYEeyDMuS-IfoEog</sourceRef>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC694aFYEeyDMuS-IfoEog" precision="0" size="1" type="numeric" position="18">
      <dataModel>_6G9836FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=cus_vip?</dataModel>
      <expressionRef id="_AC8zEaFYEeyDMuS-IfoEog" internalExpression="CASE WHEN SUM( ${t_billing_lines.lin_qty}$&#xA;              *(( ${t_billing_lines.lin_amount}$&#xA;                 -${t_billing_lines.lin_discount_amount}$ ) &#xA;&#x9;&#x9;&#x9;   -( ${t_billing_lines.lin_amount}$&#xA;&#x9;&#x9;&#x9;     *${t_billing_lines.lin_discount_rate}$ /100)))>64000 THEN 1&#xA;     ELSE 0&#xA;END">
        <dataModel>_6G984KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
        <sourceRef>_AC03QaFYEeyDMuS-IfoEog</sourceRef>
        <sourceRef>_AC03RaFYEeyDMuS-IfoEog</sourceRef>
        <sourceRef>_AC03RKFYEeyDMuS-IfoEog</sourceRef>
        <sourceRef>_AC03R6FYEeyDMuS-IfoEog</sourceRef>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_AC694qFYEeyDMuS-IfoEog" precision="6" size="29" type="timestamp" position="21">
      <dataModel>_6G983aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=update_date?</dataModel>
      <expressionRef id="_AC8MBKFYEeyDMuS-IfoEog" internalExpression="d::currentTimestamp()">
        <dataModel>_6G983qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
        <sourceRef>_AC8zEKFYEeyDMuS-IfoEog</sourceRef>
      </expressionRef>
    </fieldRef>
    <constraintRef id="_AC6946FYEeyDMuS-IfoEog" type="fk">
      <dataModel>_6G985aFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=fk_dim_customer_geo?</dataModel>
    </constraintRef>
    <constraintRef id="_AC695KFYEeyDMuS-IfoEog" type="pk">
      <dataModel>_6G985qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=pk_dim_customer?</dataModel>
    </constraintRef>
    <constraintRef id="_AC695aFYEeyDMuS-IfoEog" type="ck">
      <dataModel>_6G9856FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=ck_cus_geo_key_id_001?</dataModel>
    </constraintRef>
    <constraintRef id="_AC695qFYEeyDMuS-IfoEog" type="ck">
      <dataModel>_6G986KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=ck_cus_geo_key_id_002?</dataModel>
    </constraintRef>
  </containerRef>
  <clauseRef id="_ACh8UKFYEeyDMuS-IfoEog" internalExpression="${t_billing.bil_id}$ = ${t_billing_lines.bil_id}$">
    <dataModel>_6G986qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
    <sourceRef>_ACybAKFYEeyDMuS-IfoEog</sourceRef>
    <sourceRef>_AC03Q6FYEeyDMuS-IfoEog</sourceRef>
  </clauseRef>
  <targetSetRef id="_AC-oQaFYEeyDMuS-IfoEog" sourceSet="_AC-oQKFYEeyDMuS-IfoEog">
    <container>_AC1eUKFYEeyDMuS-IfoEog</container>
  </targetSetRef>
  <sourceSetRef id="_AC-oQKFYEeyDMuS-IfoEog" targetSet="_AC-oQaFYEeyDMuS-IfoEog">
    <dataSet xsi:type="map:DataSet">#_6G987aFXEeyDMuS-IfoEog</dataSet>
  </sourceSetRef>
  <templateRef id="_AC8zGKFYEeyDMuS-IfoEog" description="Load : t_billing, t_billing_lines" nodeCode="com.stambia.flow.step" templateCriteria="type=L-TP;trgProduct=POSTGRESSQL;trgPath=server:datamart/schema:datamart.hotel_datamart/datastore:dim_customer;trgWorkspaceCapability=true;trgMapCapability=true;trgFilterCapability=true;trgJoinCapability=true;srcProduct=POSTGRESSQL;srcPath=server:hotel/schema:hotel.hotel_management/datastore:t_billing;srcWorkspaceCapability=true;srcMapCapability=true;srcFilterCapability=true;srcJoinCapability=true">
    <dataModel>_6G9866FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=L1_dim_customer?</dataModel>
    <problem id="_ADEH0KFYEeyDMuS-IfoEog" code="WARNING_TEMPLATE_USING_UNPROVIDED_PROCESS" message=""/>
    <load>_AC8zFaFYEeyDMuS-IfoEog</load>
    <targetRef>_6G981qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</targetRef>
  </templateRef>
  <templateRef id="_AC-BMKFYEeyDMuS-IfoEog" description="Integration : dim_customer" nodeCode="com.stambia.flow.step" templateCriteria="type=I-TP;trgProduct=POSTGRESSQL;trgPath=server:datamart/schema:datamart.hotel_datamart/datastore:dim_customer;trgWorkspaceCapability=true;trgMapCapability=true;trgFilterCapability=true;trgJoinCapability=true;srcProductList=POSTGRESSQL">
    <dataModel>_6G987KFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map$name=I_dim_customer?</dataModel>
    <problem id="_ADEH0aFYEeyDMuS-IfoEog" code="WARNING_TEMPLATE_USING_UNPROVIDED_PROCESS" message=""/>
    <targetRef>_6G981qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</targetRef>
  </templateRef>
  <loadSet id="_AC8zF6FYEeyDMuS-IfoEog">
    <container>_6G981qFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</container>
  </loadSet>
  <loadSet id="_AC8zFaFYEeyDMuS-IfoEog">
    <container>_6G9VwaFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</container>
    <container>_6G9VyqFXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</container>
  </loadSet>
  <udfRef id="_AC8zEKFYEeyDMuS-IfoEog">
    <dataModel>_6G9876FXEeyDMuS-IfoEog?fileId=_6G9VwKFXEeyDMuS-IfoEog$type=map?</dataModel>
    <usage>_AC8MBKFYEeyDMuS-IfoEog</usage>
  </udfRef>
</ref:mapRef>