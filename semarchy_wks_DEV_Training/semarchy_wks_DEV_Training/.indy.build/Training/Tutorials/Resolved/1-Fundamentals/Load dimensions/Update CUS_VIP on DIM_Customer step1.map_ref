<?xml version="1.0" encoding="UTF-8"?>
<ref:mapRef xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:map="http://www.indy.com/v2/map" xmlns:ref="http://www.indy.com/v2/ref" id="_azM0J5MqEeymq6fNOAxqGA">
  <dataModel>_g0f_kJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=Update%20CUS_VIP%20on%20DIM_Customer%20step1?</dataModel>
  <containerRef xsi:type="ref:RDatastore" id="_azNbAZMqEeymq6fNOAxqGA" countShownFields="5" hierarchical="false">
    <dataModel>_jxvMwJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_azNbApMqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" mandatory="true" position="6">
      <dataModel>_jxxB8JRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_ID?</dataModel>
      <usage>_azOCIJMqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbA5MqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" mandatory="true" position="3">
      <dataModel>_jxwa4ZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BIL_ID?</dataModel>
      <usage>_azNbAJMqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbBJMqEeymq6fNOAxqGA" size="26" type="TIMESTAMP" position="15">
      <dataModel>_jxxB85RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BIL_PMT_DATE?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbBZMqEeymq6fNOAxqGA" size="26" type="TIMESTAMP" mandatory="true" position="12">
      <dataModel>_jxxB8pRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BIL_DATE?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbBpMqEeymq6fNOAxqGA" size="8" type="VARCHAR" position="9">
      <dataModel>_jxxB8ZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=PMT_CODE?</dataModel>
    </fieldRef>
    <constraintRef id="_azNbB5MqEeymq6fNOAxqGA" type="pk">
      <dataModel>_jxxpAJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=PK_T_BILLING?</dataModel>
    </constraintRef>
    <constraintRef id="_azNbCJMqEeymq6fNOAxqGA" type="fk">
      <dataModel>_jxxpAZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=FK_BILLING_PAYMENT?</dataModel>
    </constraintRef>
    <constraintRef id="_azNbCZMqEeymq6fNOAxqGA" type="fk">
      <dataModel>_jxxpApRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=FK_BILLING_CUSTOMER?</dataModel>
    </constraintRef>
  </containerRef>
  <containerRef xsi:type="ref:RDatastore" id="_azNbCpMqEeymq6fNOAxqGA" countShownFields="8" hierarchical="false">
    <dataModel>_kFBVIJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_azNbC5MqEeymq6fNOAxqGA" size="3" type="VARCHAR" mandatory="true" position="21">
      <dataModel>_kFB8N5RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_TYPE?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbDJMqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" position="24">
      <dataModel>_kFB8OJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BDR_ID?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbDZMqEeymq6fNOAxqGA" precision="4" size="19" type="NUMERIC" position="15">
      <dataModel>_kFB8NZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_DISCOUNT_AMOUNT?</dataModel>
      <usage>_azOCI5MqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbDpMqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" mandatory="true" position="3">
      <dataModel>_kFB8MZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_ID?</dataModel>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbD5MqEeymq6fNOAxqGA" size="64" type="DOUBLE" position="12">
      <dataModel>_kFB8NJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_DISCOUNT_RATE?</dataModel>
      <usage>_azOCI5MqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbEJMqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" mandatory="true" position="6">
      <dataModel>_kFB8MpRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BIL_ID?</dataModel>
      <usage>_azNbAJMqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbEZMqEeymq6fNOAxqGA" size="64" type="DOUBLE" mandatory="true" position="9">
      <dataModel>_kFB8M5RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_QTY?</dataModel>
      <usage>_azOCI5MqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azNbEpMqEeymq6fNOAxqGA" precision="4" size="19" type="DECIMAL" mandatory="true" position="18">
      <dataModel>_kFB8NpRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=BLL_AMOUNT?</dataModel>
      <usage>_azOCI5MqEeymq6fNOAxqGA</usage>
    </fieldRef>
    <constraintRef id="_azNbE5MqEeymq6fNOAxqGA" type="pk">
      <dataModel>_kFB8OZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=PK_T_BILLING_LINES?</dataModel>
    </constraintRef>
    <constraintRef id="_azNbFJMqEeymq6fNOAxqGA" type="fk">
      <dataModel>_kFCjQJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=FK_BILLING_LINES_BILLING?</dataModel>
    </constraintRef>
    <constraintRef id="_azNbFZMqEeymq6fNOAxqGA" type="fk">
      <dataModel>_kFCjQZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=FK_BILLING_LINES_BEDROOM?</dataModel>
    </constraintRef>
  </containerRef>
  <containerRef xsi:type="ref:RDatastore" id="_azNbFpMqEeymq6fNOAxqGA" countShownFields="7" hierarchical="false">
    <dataModel>_ltJwkJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
    <fieldRef xsi:type="ref:RField" id="_azOCEJMqEeymq6fNOAxqGA" size="100" type="VARCHAR" mandatory="true" position="9">
      <dataModel>_ltKXopRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_NAME?</dataModel>
      <expressionRef id="_azOCHJMqEeymq6fNOAxqGA">
        <dataModel>_mPoykJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCEZMqEeymq6fNOAxqGA" precision="0" size="10" type="NUMERIC" position="15">
      <dataModel>_ltKXpJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=GEO_KEY_ID?</dataModel>
      <expressionRef id="_azOCHZMqEeymq6fNOAxqGA">
        <dataModel>_mPoykZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCEpMqEeymq6fNOAxqGA" size="32" type="VARCHAR" position="6">
      <dataModel>_ltKXoZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_TITLE?</dataModel>
      <expressionRef id="_azOCHpMqEeymq6fNOAxqGA">
        <dataModel>_mPoykpRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCE5MqEeymq6fNOAxqGA" size="100" type="VARCHAR" position="12">
      <dataModel>_ltKXo5RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_COMPANY?</dataModel>
      <expressionRef id="_azOCH5MqEeymq6fNOAxqGA">
        <dataModel>_mPoyk5RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCFJMqEeymq6fNOAxqGA" precision="0" size="32" type="INTEGER" mandatory="true" position="3">
      <dataModel>_ltKXoJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_ID?</dataModel>
      <expressionRef id="_azOCIJMqEeymq6fNOAxqGA" internalExpression="${T_BILLING.CUS_ID}$">
        <dataModel>_mPoylJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
        <sourceRef>_azNbApMqEeymq6fNOAxqGA</sourceRef>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCFZMqEeymq6fNOAxqGA" precision="0" size="1" type="NUMERIC" position="18">
      <dataModel>_ltKXpZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CUS_VIP?</dataModel>
      <expressionRef id="_azOCI5MqEeymq6fNOAxqGA" internalExpression="case&#xA;       when sum(${T_BILLING_LINES.BLL_QTY}$*((${T_BILLING_LINES.BLL_AMOUNT}$-${T_BILLING_LINES.BLL_DISCOUNT_AMOUNT}$) - (${T_BILLING_LINES.BLL_AMOUNT}$ * ${T_BILLING_LINES.BLL_DISCOUNT_RATE}$ / 100))) > 64000 then 1&#xA;       else 0&#xA;end ">
        <dataModel>_mPoylpRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
        <sourceRef>_azNbEZMqEeymq6fNOAxqGA</sourceRef>
        <sourceRef>_azNbEpMqEeymq6fNOAxqGA</sourceRef>
        <sourceRef>_azNbDZMqEeymq6fNOAxqGA</sourceRef>
        <sourceRef>_azNbD5MqEeymq6fNOAxqGA</sourceRef>
      </expressionRef>
    </fieldRef>
    <fieldRef xsi:type="ref:RField" id="_azOCFpMqEeymq6fNOAxqGA" size="26" type="TIMESTAMP" position="21">
      <dataModel>_ltKXppRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=UPDATE_DATE?</dataModel>
      <expressionRef id="_azOCIZMqEeymq6fNOAxqGA" internalExpression="d::currentTimestamp()">
        <dataModel>_mPoylZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
        <sourceRef>_azOCIpMqEeymq6fNOAxqGA</sourceRef>
      </expressionRef>
    </fieldRef>
    <constraintRef id="_azOCF5MqEeymq6fNOAxqGA" type="pk">
      <dataModel>_ltKXp5RbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=PK_DIM_CUSTOMER?</dataModel>
    </constraintRef>
    <constraintRef id="_azOCGJMqEeymq6fNOAxqGA" type="fk">
      <dataModel>_ltKXqJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=FK_DIM_CUSTOMER_GEO?</dataModel>
    </constraintRef>
    <constraintRef id="_azOCGZMqEeymq6fNOAxqGA" type="ck">
      <dataModel>_ltKXqZRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CK_CUS_GEO_KEY_ID_001?</dataModel>
    </constraintRef>
    <constraintRef id="_azOCGpMqEeymq6fNOAxqGA" type="ck">
      <dataModel>_ltKXqpRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=CK_CUS_GEO_KEY_ID_002?</dataModel>
    </constraintRef>
  </containerRef>
  <clauseRef id="_azNbAJMqEeymq6fNOAxqGA" internalExpression="${T_BILLING_LINES.BIL_ID}$ = ${T_BILLING.BIL_ID}$">
    <dataModel>_lDmdQJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
    <sourceRef>_azNbEJMqEeymq6fNOAxqGA</sourceRef>
    <sourceRef>_azNbA5MqEeymq6fNOAxqGA</sourceRef>
  </clauseRef>
  <targetSetRef id="_azPQMZMqEeymq6fNOAxqGA" sourceSet="_azPQMJMqEeymq6fNOAxqGA">
    <container>_azNbFpMqEeymq6fNOAxqGA</container>
  </targetSetRef>
  <sourceSetRef id="_azPQMJMqEeymq6fNOAxqGA" targetSet="_azPQMZMqEeymq6fNOAxqGA">
    <dataSet xsi:type="map:DataSet">#_jx0sUJRbEeq8rK2VVn7Y2A</dataSet>
  </sourceSetRef>
  <templateRef id="_azOCKJMqEeymq6fNOAxqGA" description="Integration : DIM_CUSTOMER" nodeCode="com.stambia.flow.step" templateCriteria="type=I-TP;trgProduct=HYPERSONIC_SQL;trgPath=server:HSQL_Datamart/schema:HOTEL_DATAMART/datastore:DIM_CUSTOMER;trgTech=RDBMS;trgWorkspaceCapability=true;trgMapCapability=true;trgFilterCapability=true;trgJoinCapability=true;srcTechList=RDBMS;srcProductList=HYPERSONIC_SQL">
    <dataModel>_mPqAsJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=I_DIM_CUSTOMER?</dataModel>
    <targetRef>_ltJwkJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</targetRef>
  </templateRef>
  <templateRef id="_azOpJZMqEeymq6fNOAxqGA" description="Load : T_BILLING, T_BILLING_LINES" nodeCode="com.stambia.flow.step" templateCriteria="type=L-TP;trgProduct=HYPERSONIC_SQL;trgPath=server:HSQL_Datamart/schema:HOTEL_DATAMART/datastore:DIM_CUSTOMER;trgTech=RDBMS;trgWorkspaceCapability=true;trgMapCapability=true;trgFilterCapability=true;trgJoinCapability=true;srcProduct=HYPERSONIC_SQL;srcPath=server:HSQL_Hotel/schema:HOTEL_MANAGEMENT/datastore:T_BILLING;srcTech=RDBMS;srcWorkspaceCapability=true;srcMapCapability=true;srcFilterCapability=true;srcJoinCapability=true">
    <dataModel>_mP54UJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map$name=L1_DIM_CUSTOMER?</dataModel>
    <load>_azOCJZMqEeymq6fNOAxqGA</load>
    <targetRef>_ltJwkJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</targetRef>
  </templateRef>
  <loadSet id="_azOCJ5MqEeymq6fNOAxqGA">
    <container>_ltJwkJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</container>
  </loadSet>
  <loadSet id="_azOCJZMqEeymq6fNOAxqGA">
    <container>_kFBVIJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</container>
    <container>_jxvMwJRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</container>
  </loadSet>
  <udfRef id="_azOCIpMqEeymq6fNOAxqGA">
    <dataModel>_qYHq4JRbEeq8rK2VVn7Y2A?fileId=_g0f_kJRbEeq8rK2VVn7Y2A$type=map?</dataModel>
    <usage>_azOCIZMqEeymq6fNOAxqGA</usage>
  </udfRef>
</ref:mapRef>